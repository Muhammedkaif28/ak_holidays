<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Travel Cards + Smart Popup</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
<style>
  :root{
    --gold:#e09706;
    --bg:#f5f6f8;
    --card-shadow: rgba(0,0,0,0.12);
  }
  body{
    font-family: "Roboto", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    margin:0; background:var(--bg); color:#223;
    -webkit-font-smoothing:antialiased;
  }

  .page {
    max-width: 920px;
    margin: 18px auto;
    padding: 0 12px 80px;
  }

  /* CARD GRID (mobile-friendly) */
  .card-container {
    display:flex;
    flex-direction:column;
    gap:16px;
  }

  /* card */
  .travel-card {
    display:flex;
    flex-direction:column;
    background:#fff;
    border-radius:14px;
    overflow:hidden;
    box-shadow: 0 8px 20px var(--card-shadow);
    transition: transform .28s ease, box-shadow .28s ease;
    cursor:pointer;
  }
  .travel-card:active{ transform: scale(.995); }
  .travel-card:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(0,0,0,0.18); }

  /* media / image area */
  .card-media {
    position:relative;
    height:200px;
    background:#000; /* fallback */
    display:flex;
    align-items:center;
    justify-content:center;
  }

  /* blurred background fill (for portrait) */
  .card-media::before{
    content:"";
    position:absolute; inset:0;
    background-size:cover;
    background-position:center;
    filter: blur(18px) brightness(.75);
    transform:scale(1.08);
    z-index:0;
    opacity:0; /* shown only when JS sets --bg and adds .has-fill */
    transition: opacity .25s ease;
  }
  .card-media.has-fill::before{ opacity:1; }

  .card-media img {
    position:relative;
    z-index:1;
    max-width:100%;
    max-height:100%;
    object-fit:cover; /* JS toggles for portrait/landscape if needed */
    transition: transform .35s ease;
    border-radius: 6px;
  }
  .travel-card:hover img{ transform: scale(1.05); }

  .card-info {
    padding:14px 16px 18px;
    display:flex;
    flex-direction:column;
    gap:8px;
  }
  .card-info h4 { font-family:'Poppins',sans-serif; margin:0; font-size:1.05rem; color:#17202a; }
  .card-info p.excerpt { margin:0; color:#556; font-size:0.95rem; line-height:1.4; }
  .row { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }

  .price {
    color: #1e8f57;
    font-weight:700;
    font-size:0.98rem;
  }

  .tag {
    background:#eef2f6;
    color:#445;
    padding:6px 10px;
    border-radius:999px;
    font-size:0.86rem;
  }

  /* POPUP (overlay) */
  .popup {
    position:fixed; inset:0;
    display:none;
    align-items:center; justify-content:center;
    background: rgba(0,0,0,0.55);
    z-index:9999;
    padding:20px;
  }
  .popup.open{ display:flex; }

  .popup-inner {
    width:100%;
    max-width:880px;
    max-height:90vh;
    background:#fff;
    border-radius:14px;
    overflow:hidden;
    display:flex;
    box-shadow: 0 18px 50px rgba(0,0,0,0.35);
  }

  /* left image column */
  .popup-left {
    position:relative;
    width:48%;
    min-width:240px;
    background:#111;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
  }

  /* blurred full-size background set via --bg-image */
  .popup-left::before{
    content:"";
    position:absolute; inset:0; z-index:0;
    background-image: var(--bg-image);
    background-size: cover;
    background-position:center;
    filter: blur(20px) brightness(.75);
    transform:scale(1.06);
  }

  .popup-left img{
    position:relative; z-index:1;
    max-width:100%;
    max-height:100%;
    object-fit: contain; /* JS will toggle portrait vs landscape classes */
    border-radius:8px;
  }

  /* right content column */
  .popup-right {
    width:52%;
    padding:20px 18px;
    background: linear-gradient(#fbfdff,#f6f8fb);
    overflow:auto;
    box-sizing:border-box;
  }
  .popup-right h2{ font-family:'Poppins'; margin:0 0 8px; color:#16202b; font-size:1.35rem; }
  .popup-right p{ margin:0 0 10px; color:#455; line-height:1.5; }
  .popup-right .price{ margin-top:6px; color:#1e8f57; font-weight:700; }
  .popup-right .tags{ margin-top:10px; display:flex; gap:8px; flex-wrap:wrap; }

  .popup-buttons{ display:flex; gap:10px; margin-top:18px; flex-wrap:wrap; }
  .popup-buttons button{ padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:600;}
  .choose-btn{ background:var(--gold); color:#fff; }
  .more-btn{ background:#2b82b8; color:#fff; }

  .close-btn{
    position:absolute; top:12px; right:12px; z-index:2;
    background:rgba(255,255,255,0.95); border:none; width:36px; height:36px;
    border-radius:50%; cursor:pointer; box-shadow:0 3px 10px rgba(0,0,0,0.15);
    font-size:16px;
  }

  /* orientation helpers applied to .popup-left by JS */
  .popup-left.portrait img { object-fit: contain; width:auto; height:88%; }
  .popup-left.landscape img{ object-fit:cover; width:100%; height:100%; }

  /* small screens: vertical stack */
  @media (max-width:780px){
    .popup-inner{ flex-direction:column; max-width:420px; }
    .popup-left{ width:100%; height:260px; min-width:auto; }
    .popup-right{ width:100%; padding:16px; }
    .popup-left::before{ transform:scale(1.12); }
  }

</style>
</head>
<body>

<div class="page">
  <h2 style="text-align:center; margin-bottom:12px; font-family:'Poppins';">Popular Destinations</h2>

  <div class="card-container">
    <!-- SAMPLE CARD 1 -->
    <article class="travel-card" data-image="https://images.unsplash.com/photo-1549924231-f129b911e442?auto=format&fit=crop&w=1200&q=80" data-title="Dubai" data-desc="Dubai is known for luxury shopping, ultramodern architecture and lively nightlife." data-price="₹25,000" data-tags="Scenic,Relaxing,Luxury">
      <div class="card-media" aria-hidden="true">
        <img src="https://images.unsplash.com/photo-1549924231-f129b911e442?auto=format&fit=crop&w=800&q=60" alt="Dubai">
      </div>
      <div class="card-info">
        <h4>Dubai</h4>
        <p class="excerpt">Luxury shopping, ultramodern architecture and lively nightlife.</p>
        <div class="row">
          <div class="price">From ₹25,000</div>
          <div style="flex:1"></div>
          <div class="tag">Scenic</div>
        </div>
      </div>
    </article>

    <!-- SAMPLE CARD 2 (vertical image) -->
    <article class="travel-card" data-image="https://images.unsplash.com/photo-1505765054634-3b3b3c6e3b0b?auto=format&fit=crop&w=900&q=80" data-title="Malaysia" data-desc="Malaysia – modern cities, colonial architecture, beaches, and rainforests." data-price="₹30,000" data-tags="Beaches,Culture">
      <div class="card-media" aria-hidden="true">
        <img src="https://images.unsplash.com/photo-1505765054634-3b3b3c6e3b0b?auto=format&fit=crop&w=800&q=60" alt="Malaysia">
      </div>
      <div class="card-info">
        <h4>Malaysia</h4>
        <p class="excerpt">A blend of modern cities and tropical beauty.</p>
        <div class="row">
          <div class="price">From ₹30,000</div>
          <div style="flex:1"></div>
          <div class="tag">Relaxing</div>
        </div>
      </div>
    </article>

    <!-- SAMPLE CARD 3 -->
    <article class="travel-card" data-image="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1200&q=80" data-title="Maldives" data-desc="Pristine beaches and turquoise waters." data-price="₹45,000" data-tags="Beach,Luxury">
      <div class="card-media" aria-hidden="true">
        <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=60" alt="Maldives">
      </div>
      <div class="card-info">
        <h4>Maldives</h4>
        <p class="excerpt">Pristine beaches and turquoise waters.</p>
        <div class="row">
          <div class="price">From ₹45,000</div>
          <div style="flex:1"></div>
          <div class="tag">Luxury</div>
        </div>
      </div>
    </article>

  </div>
</div>

<!-- POPUP -->
<div id="popup" class="popup" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="popup-inner" role="document">
    <div class="popup-left" id="popupLeft" style="--bg-image: none">
      <img id="popupImg" src="" alt="">
      <button class="close-btn" id="popupClose" aria-label="Close">✕</button>
    </div>
    <div class="popup-right" id="popupRight">
      <h2 id="popupTitle">Title</h2>
      <p id="popupDesc">Description</p>
      <div id="popupPrice" class="price"></div>
      <div id="popupTags" class="tags"></div>
      <div class="popup-buttons">
        <button class="choose-btn">Book Now</button>
        <button class="more-btn">View More</button>
      </div>
    </div>
  </div>
</div>

<!-- JS: place at bottom before </body> -->
<script>
document.addEventListener('DOMContentLoaded', function(){
  const popup = document.getElementById('popup');
  const popupLeft = document.getElementById('popupLeft');
  const popupImg = document.getElementById('popupImg');
  const popupTitle = document.getElementById('popupTitle');
  const popupDesc = document.getElementById('popupDesc');
  const popupPrice = document.getElementById('popupPrice');
  const popupTags = document.getElementById('popupTags');
  const closeBtn = document.getElementById('popupClose');

  function openPopup(imageUrl, title, desc, price, tagsArr){
    // set right-side text
    popupTitle.textContent = title || '';
    popupDesc.textContent = desc || '';
    popupPrice.textContent = price ? ('From ' + price) : '';
    popupTags.innerHTML = '';
    (tagsArr || []).forEach(t=>{
      const sp = document.createElement('span');
      sp.className = 'tag';
      sp.textContent = t.trim();
      popupTags.appendChild(sp);
    });

    // set blurred background (CSS var)
    popupLeft.style.setProperty('--bg-image', `url("${imageUrl}")`);

    // when image loads, detect orientation & toggle classes
    popupImg.onload = function(){
      const w = popupImg.naturalWidth || 1;
      const h = popupImg.naturalHeight || 1;
      popupLeft.classList.remove('portrait','landscape');
      // treat tall images as portrait
      if (h > w * 1.05) {
        popupLeft.classList.add('portrait');
      } else {
        popupLeft.classList.add('landscape');
      }
    };
    // set src (this triggers onload)
    popupImg.src = imageUrl;

    // show popup
    popup.classList.add('open');
    popup.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden'; // lock background scroll
  }

  function closePopup(){
    popup.classList.remove('open');
    popup.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
    popupImg.src = ''; // free memory
    popupLeft.classList.remove('portrait','landscape');
  }

  // attach to all travel cards
  document.querySelectorAll('.travel-card').forEach(card=>{
    card.addEventListener('click', function(){
      const img = card.dataset.image;
      const title = card.dataset.title || card.querySelector('h4')?.textContent || '';
      const desc = card.dataset.desc || card.querySelector('.excerpt')?.textContent || '';
      const price = card.dataset.price || '';
      const tags = (card.dataset.tags || '').split(',').map(s => s.trim()).filter(Boolean);
      // also set small blurred fill on the card itself for better thumbnail feel
      const media = card.querySelector('.card-media');
      if(media) {
        media.style.setProperty('--bg-image', `url("${img}")`);
        media.classList.add('has-fill');
      }
      openPopup(img, title, desc, price, tags);
    });
  });

  // close handlers
  closeBtn.addEventListener('click', closePopup);
  popup.addEventListener('click', function(e){
    if (e.target === popup) closePopup(); // backdrop click
  });
  document.addEventListener('keydown', function(e){
    if (e.key === 'Escape' && popup.classList.contains('open')) closePopup();
  });
});
</script>

</body>
</html>
